 {% extends 'base.html.twig' %}

{% block breadcrumb %}

    {{ parent() }} / <a href="{{ asset('/style') }}" class="header_breadcrumbs_1">стили</a>

{% endblock %}

 {% block body %}

<section class="page">
    <div class="container">
        <div class="page_block page_title_block"></div>
        <h2 class="page_title">Виды пива</h2>
        <div class="row page_search_row">
            <div class="col-lg-2 d-none d-lg-block">
                <div class="page_search_res">найдено {{ styles|length }} видов</div>
            </div>
            <div class="col-lg-4 offset-lg-1 d-none d-lg-block">

            <input class="search page_search header_search" type="text" name="message">

                <img class="search_icon page_search_icon header_search_icon" src="../icons/search logo.png" alt="search">
            </div>
            <div class="col-lg-5 col-md-12">
                <div class="page_sort">
                    Сортировать: <a class="page_sort_type" id="sort_rel" href="#">по релевантности</a> / <a class="page_sort_type" id="sort_pop" href="#">по популярности</a> / <a class="page_sort_type" id="sort_alp" href="#">по алфавиту</a>
                </div>
            </div>
        </div>
        <div class="row main">
            {% include 'style/_sortlist.html.twig' %}
        </div>
    </div>
</section>

 {% endblock %}

{% block javascripts %}

    {{ parent() }}

    <script>

        $('.page_sort_type').on('click', function(e) {

            let id = this.id;
            $('.page_sort_type').removeClass('page_sort_active');
            $(this).addClass('page_sort_active');

            e.preventDefault(); //Prevent Default action.

            $.ajax({
                url: "{{ path("styleasc") }}",
                type: 'POST',
                dataType: 'html',
                // contentType: "application/json",
                data: {
                    'sortType': id
                }
            }).done(function (data) {
                $('.main').html(data);
            });
        });

        $('.page_search').on('keyup', function(e) {

            e.preventDefault(); //Prevent Default action.

            $.ajax({
                url: "{{ path("style_ajax_desc") }}",
                type: 'POST',
                dataType: 'html',
                // contentType: "application/json",
                data: {
                    'sortType': 'sort_alp'
                }
            }).done(function (data) {
                $('.main').html(data);
            });

        });

    </script>

{% endblock %}